{% extends 'base/base.html' %}
{% block content %}

<div class="flex min-h-screen items-center bg-gray-50">

    <div class="bg-white w-full max-w-xl mx-auto shadow py-5 px-8">
        <div class="my-5">
            <h1 class="text-3xl font-bold mb-2">Become a partner</h1>
            <p class="text-gray-600">
                Fill in the form below to create an account.
            </p>
        </div>


        {% include 'components/message.html' %}

        <form id="register__form" class="space-y-4" method="post">
            {% csrf_token %}
            <div>
                <label for="name" class="block font-medium text-gray-900 mb-1">
                    Full Name
                </label>
                <input id="org-name" name="full_name" type="text" placeholder="Full Name"
                    class="w-full p-3 border border-gray-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-bluer"
                    required />
            </div>
            <div>
                <label for="org-email" class="block font-medium text-gray-900 mb-1">
                    Email Address
                </label>
                <input id="org-email" name="email" type="email" placeholder="Email"
                    class="w-full p-3 border border-gray-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-bluer"
                    required />
            </div>
            <input type="hidden" name="role" value="consultancy">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                    <label for="password" class="block font-medium text-gray-900 mb-1">
                        Password
                    </label>
                    <div class="relative">
                        <input id="password" name="password" type="password" placeholder="Password"
                            class="w-full p-3 border border-gray-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-bluer"
                            required />
                        <button type="button" id="show-password"
                            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <span class="sr-only">Show password</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round"
                                strokeLinejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                <circle cx="12" cy="12" r="3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div>
                    <label for="confirm-password" class="block font-medium text-gray-900 mb-1">
                        Confirm Password
                    </label>
                    <div class="relative">
                        <input id="confirm-password" name="confirm_password" type="password"
                            placeholder="Confirm Password"
                            class="w-full p-3 border border-gray-300 rounded-sm focus:outline-none focus:ring-1 focus:ring-red-900"
                            required />
                        <button type="button" id="show-confirm-password"
                            class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                            <span class="sr-only">Show password</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round"
                                strokeLinejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                <circle cx="12" cy="12" r="3" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <button type="submit" id="register__button"
                class="w-full bg-blue-700 hover:opacity-90 text-white rounded-sm py-3 font-medium focus:outline-none focus:ring-1 focus:ring-offset-2 focus:ring-red-900">
                Continue
            </button>
        </form>
        <div class="mt-6 text-center text-gray-600">
            <a href="{% url 'login' %}">
                Already have an account?
                <span class="underline text-blue-600 underline-offset-4">
                    Log In
                </span>
            </a>
        </div>
    </div>

</div>
<script>
    const showPassword = document.getElementById('show-password');
    const password = document.getElementById('password');
    const registerButton = document.getElementById('register__button');
    const registerForm = document.getElementById('register__form');

    showPassword.addEventListener('click', () => {
        if (password.type === 'password') {
            password.type = 'text';
        } else {
            password.type = 'password';
        }
    });

    const showConfirmPassword = document.getElementById('show-confirm-password');
    const confirmPassword = document.getElementById('confirm-password');
    showConfirmPassword.addEventListener('click', () => {
        if (confirmPassword.type === 'password') {
            confirmPassword.type = 'text';
        } else {
            confirmPassword.type = 'password';
        }
    });
    registerForm.addEventListener('submit', () => {
        registerButton.disabled = true;
        registerButton.innerText = 'Registering...';
    });
</script>


{% endblock %}